{"version":3,"file":"index.js","sources":["../src/lib/settings.js","../src/lib/util.js","../src/lib/texturepacker.js","../src/lib/codegenerator.js","../src/lib/packer.js","../src/lib/watcher.js","../src/index.js"],"sourcesContent":["import fs from 'fs-extra';\nimport get from 'get-value';\nimport defaults from 'object.defaults/mutable.js';\nimport ora from 'ora';\n\nexport async function readSettingsFrom(_file) {\n  const spinner = ora(`Reading settings from ${_file}...`).start();\n\n  let settings = {};\n\n  try {\n    const data = await fs.readJSON(_file);\n\n    settings = get(data, 'sprites', {});\n\n    settings = defaults(settings, {\n      sourceDirectory: './assets/',\n      scriptDirectory: './assets/converted/',\n      targetDirectory: './assets/converted/',\n      watch: false,\n      watchDelay: 500,\n      extrude: false,\n      resolutions:[1, 2],\n      originalResolution: 2,\n      numTitleParts: 2,\n      textureFormat: 'png',\n      includeSizeInfo: false,\n      includePNGExpressMetadata: false,\n      directories: [],\n    });\n  } catch {\n    spinner.fail(`Could not load settings from ${_file}... (does it exist?)`);\n    return settings;\n  }\n\n  const numberOfDirectories = settings.directories.length;\n\n  if (numberOfDirectories) {\n    spinner.succeed(`Found ${numberOfDirectories} directories to process...`);\n  } else {\n    spinner.fail(`Found no directories to process...`);\n  }\n\n  return settings;\n}\n","import { globby } from 'globby';\nimport set from 'set-value';\nimport fs from 'fs-extra';\nimport path from 'path';\nimport get from 'get-value';\n\nexport function makeVariableSafe(value) {\n  return value.replace(/(\\W)/g, '_').replace(/_{2,}/g, '.').replace(/^_/, '').replace(/_$/, '');\n}\n\nexport function kebabCase(value) {\n  return value\n    .replace(/([\\da-z])([A-Z])/g, '$1-$2')\n    .replace(/([A-Z])([A-Z])(?=[a-z])/g, '$1-$2')\n    .toLowerCase();\n}\n\nexport function getResolutionOfUrl(url, defaultValue) {\n  const resolution = /@([\\d.]+)x/.exec(url);\n\n  if (resolution) {\n    return Number.parseFloat(resolution[1]);\n  }\n\n  return defaultValue !== undefined ? defaultValue : 1;\n}\n\nfunction getNumberOfPacks(data) {\n  // did we allready determine the number of packs in a previous run?\n  let numberOfPacks = get(data, 'meta.number_of_packs', { default: 0 });\n\n  if (numberOfPacks === 0) {\n    numberOfPacks = get(data, 'meta.related_multi_packs', { default: [] }).length + 1;\n  }\n\n  return numberOfPacks;\n}\n\nexport async function fixSpritesheetJSON(jsonPath) {\n  // get all generated json\n  const paths = await globby(`${path.posix.join(jsonPath, '/')}*.json`);\n\n  for (const filepath of paths) {\n    // get resolution from filename\n    const resolution = getResolutionOfUrl(filepath);\n\n    // read contents of json\n    const data = await fs.readJson(filepath);\n\n    // set scale value to resolution\n    set(data, 'meta.scale', resolution);\n\n    // determine number of packs\n    set(data, 'meta.number_of_packs', getNumberOfPacks(data));\n\n    // unset related_multi_packs value so pixi won't choke\n    set(data, 'meta.related_multi_packs');\n\n    // write contents back to file\n    await fs.writeJson(filepath, data);\n  }\n}\n\nexport async function removeGeneratedAssets(assetsPath) {\n  // get all generated json\n  const paths = await globby(`${assetsPath}/*.{json,jpeg,jpg,png}`);\n\n  // remove files\n  return Promise.all(paths.map((filepath) => fs.unlink(filepath)));\n}\n","import { kebabCase } from './util';\nimport defaults from 'object.defaults/mutable.js';\nimport { promisify } from 'util';\nimport { exec } from 'child_process';\nconst execProcess = promisify(exec);\n\nconst baseOptions = {\n  'format': 'pixijs4',\n  'texture-format': 'png',\n  'jpg-quality': 100,\n  'max-size': 2048,\n  'png-opt-level':0,\n  'opt':'RGBA8888',\n  'prepend-folder-name': true,\n  'trim-sprite-names': true,\n\n  'algorithm': 'MaxRects',\n  'maxrects-heuristics': 'Best',\n  'pack-mode': 'Best',\n  'scale-mode': 'Smooth',\n\n  'multipack': true,\n  'force-identical-layout': true,\n  'trim-mode': 'Trim',\n  'alpha-handling': 'ClearTransparentPixels',\n  'default-pivot-point': '0,0',\n  'enable-rotation': true,\n  'quiet': true,\n  'extrude': '0',\n  'shape-padding': '2',\n  'variant': ['1:@2x', '0.5:']\n};\n\nexport async function packFolder(path, options, settings) {\n  const command = buildTexturePackerCommand(path, defaults(options, baseOptions), settings);\n\n  try {\n    await execProcess(command);\n  } catch(error) {\n    if (error && error.stderr) {\n      throw new Error(error.stderr);\n    }\n\n    return false;\n  }\n\n  return true;\n}\n\nconst RESOLUTION_PREFIXES = {\n  1: '',\n  2: '@2x',\n  3: '@3x',\n  4: '@4x',\n}\n\nfunction buildTexturePackerCommand(path, options, settings) {\n  options = options || {};\n  settings = settings || {};\n\n  if (options.extrude === '1') {\n    options['shape-padding'] = 0;\n  }\n\n  if (options['texture-format'] === 'jpg') {\n    options['alpha-handling'] = 'ReduceBorderArtifacts';\n  }\n\n  // determine variants\n  if (Array.isArray(settings.resolutions) && typeof settings.originalResolution === 'number') {\n    const variants = [];\n\n    for (const resolution of settings.resolutions) {\n      const prefix = RESOLUTION_PREFIXES[resolution];\n\n      if (prefix !== undefined) {\n        variants.push(`${resolution/settings.originalResolution}:${prefix}`);\n      }\n    }\n\n    options['variant'] = variants;\n  }\n\n  const command = new TexturePackerCommand();\n  command.addPath(`${path}`);\n  for (const option of Object.keys(options)) {\n    command.addOption(option, options[option]);\n  }\n\n  return command.build();\n}\n\nclass TexturePackerCommand {\n  constructor() {\n    this.commands = [];\n    this.path = '';\n  }\n\n  addPath(path) {\n    this.path = path;\n  }\n\n  addOption(option, value) {\n    this.commands.push({\n      option: `--${kebabCase(option)}`,\n      value\n    });\n  }\n\n  build() {\n    if (!this.path) {\n      throw new Error('Must specify a path to process (image/directory)');\n    }\n\n    const options = this.commands\n      .map(c => this.resolveValue(c.option, c.value))\n      .join(' ');\n\n    return `TexturePacker ${this.path} ${options}`;\n  }\n\n  resolveValue(option, value) {\n    if (Array.isArray(value)) {\n      return value.map(v => this.resolveValue(option, v)).join(' ');\n    }\n\n    value = value === true ? '' : ` ${value}`;\n\n    return `${option}${value}`;\n  }\n}\n","import camelcase from 'camelcase';\nimport chalk from 'chalk';\nimport { findUp } from 'find-up';\nimport fs from 'fs-extra';\nimport get from 'get-value';\nimport { globby } from 'globby';\nimport logSymbols from 'log-symbols';\nimport path from 'path';\nimport pupa from 'pupa';\nimport set from 'set-value';\nimport upperCamelCase from 'uppercamelcase';\nimport pick from 'object.pick';\nimport { makeVariableSafe } from './util';\n\nconst loaderInfoTemplate = `export const {assetsVariable}LoaderInfo = {\n  assets: {assetsVariable},\n  fileName : '{fileName}',\n  numberOfParts : {numberOfParts},\n  type: 'sprites'\n};`;\n\nconst assetTemplate = `export const {assetName} = {assetData};`;\n\nfunction convertPathToVariableName(filePath, basePath, numTitleParts) {\n  // forceer string\n  filePath = `${filePath}`;\n\n  // basepath er af halen, path splitsen en opschonen\n  let parts = filePath\n    .replace(`${basePath}/`, '')\n    .split('/')\n    .map((value) => makeVariableSafe(value));\n\n  \n  // haal laatste onderdeel er af\n  let lastPart = parts.pop();\n  lastPart = lastPart.toUpperCase();\n\n  // camelcase andere onderdelen\n  parts = parts.map((part) => camelcase(part));\n\n  // haal titel elementen uit base path\n  let titleParts = basePath.split('/');\n\n  // bepaal max en min title parts en haal deze uit titel\n  titleParts = titleParts.slice(titleParts.length - Math.max(1, Math.min(numTitleParts, titleParts.length)));\n\n  titleParts.push('sprites');\n  titleParts = upperCamelCase(titleParts.join('-'));\n\n  if (parts.length > 0) {\n    filePath = parts.join('.');\n    filePath = filePath\n      .replace(/(\\W^\\.)/g, '')\n      .replace(/\\.{2,}/g, '.')\n      .replace(/^\\./, '')\n      .replace(/\\.$/, '');\n    return [titleParts, filePath, lastPart].join('.');\n  } else {\n    return [titleParts, lastPart].join('.');\n  }\n}\n\nfunction getNumberOfParts(allDataItems) {\n  if (allDataItems.length > 0) {\n    const firstItem = allDataItems[0];\n\n    return get(firstItem, 'meta.number_of_packs', { default: 1 });\n  }\n\n  return 0;\n}\n\nasync function getAssetMetaData(allAssetData, assetPath, settings, itemOptions) {\n  const includeSizeInfo = get(itemOptions, 'includeSizeInfo', settings.includeSizeInfo),\n    includePNGExpressMetadata = get(\n      itemOptions,\n      'includePNGExpressMetadata',\n      settings.includePNGExpressMetadata,\n    ),\n    originalResolution = get(itemOptions, 'originalResolution', settings.originalResolution);\n\n  const assetMetaData = {};\n\n  if (!includeSizeInfo && !includePNGExpressMetadata) {\n    return assetMetaData;\n  }\n\n  // basis meta data\n  for (const textureInfo of allAssetData || []) {\n    for (const textureFramePath of Object.keys(textureInfo.frames)) {\n      const frameInfo = textureInfo.frames[textureFramePath];\n\n      assetMetaData[textureFramePath] = {\n        id: textureFramePath,\n        width: frameInfo.sourceSize.w,\n        height: frameInfo.sourceSize.h,\n      };\n    }\n  }\n\n  // check for PNGExpress meta data file?\n  if (includePNGExpressMetadata) {\n    try {\n      const fullAssetPath = path.join(settings.sourceDirectory, assetPath);\n\n      const metaDataFile = await findUp('pngexpress-metadata.json', {\n        cwd: fullAssetPath,\n        type: 'file',\n      });\n\n      if (metaDataFile) {\n        const relativePath = `${path\n            .relative(metaDataFile, fullAssetPath)\n            .replace(`..${path.sep}`, '')}/`,\n          metaFromFile = await fs.readJson(metaDataFile);\n\n        for (const assetInfo of metaFromFile.assets) {\n          for (const state of assetInfo.states) {\n            // get asset id, remove ducplicate part of path\n            let id = assetPath + assetInfo.id.replace(relativePath, '');\n\n            // remove starting slash\n            id = id[0] === '/' ? id.slice(1) : id;\n\n            // add state\n            id = state === 'default' ? id : id + state;\n\n            const meta = pick(assetInfo, ['x', 'y', 'zIndex', 'visible', 'opacity']);\n\n            // fix pos based on resolution\n            if (typeof settings.originalResolution === 'number') {\n              meta.x = meta.x / originalResolution;\n              meta.y = meta.y / originalResolution;\n            } \n\n            // fix opacity\n            meta.opacity = meta.opacity / 100;\n\n            assetMetaData[id] = {\n              ...meta,\n              ...assetMetaData[id],\n            };\n          }\n        }\n\n        return assetMetaData;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return assetMetaData;\n}\n\nasync function parseAssetData(allAssetData, assetPath, settings, itemOptions) {\n  const assetMetaData = await getAssetMetaData(allAssetData, assetPath, settings, itemOptions),\n    includeSizeInfo = get(itemOptions, 'includeSizeInfo', settings.includeSizeInfo),\n    numTitleParts = get(itemOptions, 'numTitleParts', settings.numTitleParts),\n    includePNGExpressMetadata = get(\n      itemOptions,\n      'includePNGExpressMetadata',\n      settings.includePNGExpressMetadata,\n    );\n\n  // bepaal base path\n  const basePath = assetPath,\n    parsedData = {};\n\n  for (const assetData of allAssetData || []) {\n    for (const framePath of Object.keys(assetData.frames)) {\n      // always use framepath as info\n      let assetInfo = framePath;\n\n      // get and set asset meta info\n      if (includeSizeInfo || includePNGExpressMetadata) {\n        if (assetMetaData[framePath]) {\n          assetInfo = {\n            id: framePath,\n            ...assetMetaData[framePath],\n          };\n        } else {\n          // warn, no asset info found\n          console.log(\n            '\\n',\n            logSymbols.warning,\n            chalk.yellow(`Could not find asset info for ${framePath}, check the export filename.`),\n            '\\n',\n          );\n        }\n      }\n\n      set(parsedData, convertPathToVariableName(framePath, basePath, numTitleParts), assetInfo);\n    }\n  }\n\n\n  return parsedData;\n}\n\nfunction getSortedItems(_itemsData) {\n  const itemsSortable = [];\n\n  for (const assetName of Object.keys(_itemsData)) {\n    if (Object.prototype.hasOwnProperty.call(_itemsData, assetName)) {\n      itemsSortable.push([assetName, _itemsData[assetName]]);\n    }\n  }\n\n  itemsSortable.sort((a, b) => {\n    const x = a[0],\n      y = b[0];\n\n    return x < y ? -1 : x > y ? 1 : 0;\n  });\n\n  const items = {};\n  for (const item of itemsSortable) {\n    items[item[0]] = item[1];\n  }\n\n  return items;\n}\n\nfunction generateContents(parsedAssetData, loaderData) {\n  let contents = '';\n\n  const assetName = Object.keys(parsedAssetData)[0] ?? 'Unknown';\n  const items = getSortedItems(parsedAssetData[assetName] ?? {});\n\n  let itemsContent = JSON.stringify(items, undefined, 2);\n  itemsContent = itemsContent.replace(/\"([^\"()]+)\":/g, '$1:');\n\n\n  contents = `${contents}${pupa(assetTemplate, {\n    assetName: assetName,\n    assetData: itemsContent,\n  })}\\n`;\n\n  // loader\n  contents = `${contents}${pupa(loaderInfoTemplate, {\n    assetsVariable: assetName,\n    fileName: loaderData.fileName,\n    numberOfParts: loaderData.numberOfParts,\n  })}\\n`;\n\n  return contents;\n}\n\nfunction getScriptPath(assetPath, scriptDirectory) {\n  const assetParts = assetPath.split('/'),\n    assetName = assetParts.pop();\n\n  if (assetParts.length < 2) {\n    assetParts.push(assetName);\n  }\n\n  assetPath = assetParts.join('/');\n\n  return `${path.join(scriptDirectory, assetPath)}/assets/sprites-${assetName}.ts`;\n}\n\nexport async function checkCodeExists(assetPath, settings, itemOptions) {\n  const scriptDirectory = get(itemOptions, 'scriptDirectory', settings.scriptDirectory),\n    scriptPath = getScriptPath(assetPath, scriptDirectory);\n\n  return await fs.pathExists(scriptPath);\n}\n\nexport async function generateCode(assetPath, settings, itemOptions) {\n  const scriptDirectory = get(itemOptions, 'scriptDirectory', settings.scriptDirectory);\n\n  // read all generated json\n  const paths = await globby(\n      `${path.posix.join(settings.targetDirectory, assetPath, '/')}*[0-9]+.json`,\n    ),\n    actions = [];\n\n  for (const filepath of paths) {\n    actions.push(fs.readJson(filepath));\n  }\n\n  // parse data to object\n  const allTextureInfo = await Promise.all(actions);\n\n  if (allTextureInfo.length === 0) {\n    console.error(`No texture info found for path ${assetPath}`);\n    return;\n  }\n\n  const parsedAssetData = await parseAssetData(allTextureInfo, assetPath, settings, itemOptions),\n    loaderInfo = {\n      fileName: assetPath,\n      numberOfParts: getNumberOfParts(allTextureInfo),\n    };\n\n  const contents = generateContents(parsedAssetData, loaderInfo),\n    scriptpath = getScriptPath(assetPath, scriptDirectory);\n\n  await fs.outputFile(scriptpath, contents);\n}\n","import chalk from 'chalk';\nimport get from 'get-value';\nimport logSymbols from 'log-symbols';\nimport ora from 'ora';\nimport path from 'path';\nimport { packFolder } from './texturepacker';\nimport { fixSpritesheetJSON, removeGeneratedAssets } from './util';\nimport { checkCodeExists, generateCode } from './codegenerator';\n\nconst isPacking = {},\n  shouldPackAgain = {};\n\nexport async function packAll(directories, settings) {\n  console.log(logSymbols.info, chalk.blue(`Start packing all items...`));\n\n  for (const directory of directories) {\n    await pack(directory, settings);\n  }\n\n  console.log(logSymbols.success, chalk.green(`Done packing all items...`));\n}\n\nexport async function pack(directory, settings) {\n  let itemPath, itemOptions;\n\n  const reportPackDone = async function (directory, settings, itemPath) {\n    isPacking[itemPath] = false;\n\n    if (shouldPackAgain[itemPath]) {\n      shouldPackAgain[itemPath] = false;\n      spinner.warn(`Needs repacking, something changed while packing...`);\n      await pack(directory, settings);\n    } else {\n      spinner.succeed(`Done packing ${itemPath}`);\n    }\n  };\n\n  if (Array.isArray(directory)) {\n    itemPath = directory[0];\n    itemOptions = directory[1];\n  } else {\n    itemPath = directory;\n  }\n\n  const itemPathParts = itemPath.split('/'),\n    directoryName = itemPathParts.pop(),\n    targetPath = `${path.join(settings.targetDirectory, itemPath)}`;\n\n  if (isPacking[itemPath]) {\n    console.log(logSymbols.warning, chalk.yellow(`Already packing, starting again afterwards...`));\n    shouldPackAgain[itemPath] = true;\n    return;\n  }\n\n  isPacking[itemPath] = true;\n\n  const textureFormat = get(itemOptions, 'textureFormat', settings.textureFormat),\n    onlyGenerateCode = get(itemOptions, 'onlyGenerateCode', settings.onlyGenerateCode),\n    packerOptions = {\n      sheet: `${path.join(\n        settings.targetDirectory,\n        itemPath,\n        directoryName,\n      )}-{n1}{v}.${textureFormat}`,\n      data: `${path.join(settings.targetDirectory, itemPath, directoryName)}-{n1}{v}.json`,\n      replace: `^${directoryName}=${itemPath}`,\n      extrude: get(itemOptions, 'extrude', settings.extrude) ? '1' : '0',\n      'texture-format': textureFormat,\n      'max-size': get(itemOptions, 'maxSize', settings.maxSize),\n    };\n\n  const spinner = ora(`Packing ${itemPath}`).start();\n\n  // if we only need to generate code, first check if it exists so we can skip building textures\n  if (onlyGenerateCode === true) {\n    const codeExists = await checkCodeExists(itemPath, settings);\n\n    if (codeExists === true) {\n      await reportPackDone(directory, settings, itemPath);\n      return;\n    }\n  }\n\n  try {\n    const success = await packFolder(`${path.join(settings.sourceDirectory, itemPath)}`, packerOptions, settings);\n\n    if (!success) {\n      spinner.fail(`Error packing ${itemPath}`);\n\n      return;\n    }\n  } catch (error) {\n    spinner.fail(`Error packing ${itemPath}`);\n    console.error(logSymbols.warning, error.message);\n\n    return;\n  }\n\n  await fixSpritesheetJSON(`${path.posix.join(settings.targetDirectory, itemPath)}`);\n\n  await generateCode(itemPath, settings, itemOptions);\n\n  // remove generated assets?\n  if (onlyGenerateCode === true) {\n    await removeGeneratedAssets(targetPath);\n  }\n\n  await reportPackDone(directory, settings, itemPath);\n}\n","import chalk from 'chalk';\nimport logSymbols from 'log-symbols';\nimport path from 'path';\nimport sane from 'sane';\nimport { debounce } from 'throttle-debounce';\nimport { pack } from './packer';\n\nexport async function watch(directories, settings) {\n  for (const directory of directories) {\n    await watchDirectory(directory, settings);\n  }\n}\n\nasync function watchDirectory(directory, settings) {\n  return new Promise((_resolver) => {\n\n    let itemPath, itemOptions = {};\n\n    if (Array.isArray(directory)) {\n      itemPath = directory[0];\n      itemOptions = directory[1];\n    } else {\n      itemPath = directory;\n    }\n\n    if ((settings.watch !== true && itemOptions.watch !== true) || itemOptions.watch === false) {\n       _resolver();\n       return;\n    }\n\n    const delayedCallback = debounce(settings.watchDelay, () => {\n      pack(directory, settings);\n    });\n    const watcher = sane(`${path.join(settings.sourceDirectory, itemPath)}`, {\n      glob: ['**/*.png', '**/*.jpg']\n    });\n\n    watcher.on('ready', () => {\n      console.log(logSymbols.info, chalk.blue(`Started watching ${itemPath} with a delay of ${settings.watchDelay / 1000}s`));\n      _resolver()\n    });\n    watcher.on('change', delayedCallback);\n    watcher.on('add', delayedCallback);\n    watcher.on('delete', delayedCallback);\n  });\n}\n","import { readSettingsFrom } from './lib/settings';\nimport { watch } from './lib/watcher';\nimport { packAll } from './lib/packer';\n\nconst AssetFile = 'assets.json';\n\nasync function main(_file) {\n  const settings = await readSettingsFrom(_file),\n    directories = settings.directories;\n\n  delete settings.directories;\n\n  if (!settings || !directories) {\n    return;\n  }\n\n  await packAll(directories, settings);\n\n  await watch(directories, settings);\n}\n\nexport function pack(_file) {\n  main(_file || AssetFile);\n}\n"],"names":["pack"],"mappings":"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"}